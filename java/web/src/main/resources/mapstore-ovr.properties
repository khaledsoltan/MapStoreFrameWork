# ============================================================================
# KEYCLOAK INTEGRATION CONFIGURATION
# Complete setup for OpenID + SSO + Direct User Integration
# Based on official MapStore Keycloak documentation
# ============================================================================

# ============================================================================
# 1. BACKEND OPENID CONFIGURATION (mapstore-client for backend API)
# ============================================================================
keycloakOAuth2Config.enabled=true
keycloakOAuth2Config.clientId=mapstore-client
keycloakOAuth2Config.clientSecret=hy7rf5rEiDRHreQAlt6zMsizLnvK65Ih
keycloakOAuth2Config.authServerURL=https://gisidgw.geosystems-me.com:5443/
keycloakOAuth2Config.realm=GISID
keycloakOAuth2Config.redirectUri=http://localhost:8081/mapstore/rest/geostore/openid/keycloak/callback
keycloakOAuth2Config.internalRedirectUri=http://localhost:8081/mapstore/
# Enable direct authentication for embedded login
keycloakOAuth2Config.enableDirectAccess=true
keycloakOAuth2Config.autoCreateUser=true
keycloakOAuth2Config.scopes=openid,profile,email

# Role and Group Mappings
keycloakOAuth2Config.roleMappings=admin:ADMIN,user:USER
keycloakOAuth2Config.authenticatedDefaultRole=USER
keycloakOAuth2Config.dropUnmapped=false

# Token validation settings
keycloakOAuth2Config.tokenIntrospectionEndpoint=https://gisidgw.geosystems-me.com:5443/realms/GISID/protocol/openid-connect/token/introspect
keycloakOAuth2Config.jwkSetUri=https://gisidgw.geosystems-me.com:5443/realms/GISID/protocol/openid-connect/certs
keycloakOAuth2Config.issuer=https://gisidgw.geosystems-me.com:5443/realms/GISID


keycloakRESTClient.serverUrl=https://gisidgw.geosystems-me.com:5443/
keycloakRESTClient.realm=GISID
keycloakRESTClient.username=ktaha
keycloakRESTClient.password=Geos@123!
keycloakRESTClient.clientId=mapstore-users

mapstore.baseUrl=http://localhost:8081